<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vanilla JS Utilities Demo</title>
    <link rel="stylesheet" href="css/custom-grid.css">
    <link rel="stylesheet" href="css/custom-modal.css">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px 0;
        }
        
        .demo-section {
            margin: 40px 0;
            padding: 20px;
            border: 1px solid #e9ecef;
            border-radius: 8px;
        }
        
        .demo-section h3 {
            margin-top: 0;
            color: #333;
        }
        
        .form-control {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
        }
        
        .card {
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 20px;
            margin: 10px 0;
            background: white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .alert {
            padding: 12px 16px;
            border-radius: 4px;
            margin: 10px 0;
        }
        
        .alert-success {
            background-color: #d4edda;
            border: 1px solid #c3e6cb;
            color: #155724;
        }
        
        .alert-danger {
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            color: #721c24;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="text-center">Vanilla JS Utilities Demo</h1>
        <p class="text-center text-muted">No jQuery, Bootstrap, or external libraries required!</p>
        
        <!-- Grid System Demo -->
        <div class="demo-section">
            <h3>Custom Grid System</h3>
            <div class="row">
                <div class="col-md-4">
                    <div class="card">
                        <h4>Column 1</h4>
                        <p>This is a responsive grid system built with pure CSS Flexbox.</p>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card">
                        <h4>Column 2</h4>
                        <p>It includes responsive breakpoints and utility classes.</p>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card">
                        <h4>Column 3</h4>
                        <p>No Bootstrap required - just clean, modern CSS.</p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- DOM Manipulation Demo -->
        <div class="demo-section">
            <h3>DOM Manipulation (jQuery Replacement)</h3>
            <div class="row">
                <div class="col-md-6">
                    <button class="btn btn-primary" id="showHideBtn">Toggle Element</button>
                    <button class="btn btn-secondary" id="fadeBtn">Fade Toggle</button>
                    <button class="btn btn-outline" id="slideBtn">Slide Toggle</button>
                </div>
                <div class="col-md-6">
                    <div id="demoElement" class="card">
                        <h4>Demo Element</h4>
                        <p>This element can be shown/hidden, faded, and slid using vanilla JS utilities.</p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Modal Demo -->
        <div class="demo-section">
            <h3>Custom Modal System</h3>
            <div class="d-flex justify-content-center">
                <button class="btn btn-primary m-2" id="alertBtn">Show Alert</button>
                <button class="btn btn-secondary m-2" id="confirmBtn">Show Confirm</button>
                <button class="btn btn-outline m-2" id="promptBtn">Show Prompt</button>
                <button class="btn btn-danger m-2" id="customModalBtn">Custom Modal</button>
            </div>
            <div id="modalResult" class="alert alert-success" style="display: none;"></div>
        </div>
        
        <!-- Form Demo -->
        <div class="demo-section">
            <h3>Form Utilities</h3>
            <div class="row">
                <div class="col-md-6">
                    <form id="demoForm">
                        <div class="form-group">
                            <label for="name">Name:</label>
                            <input type="text" id="name" name="name" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="email">Email:</label>
                            <input type="email" id="email" name="email" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="message">Message:</label>
                            <textarea id="message" name="message" class="form-control" rows="3"></textarea>
                        </div>
                        <button type="submit" class="btn btn-primary">Submit</button>
                        <button type="button" class="btn btn-outline" id="clearForm">Clear</button>
                    </form>
                </div>
                <div class="col-md-6">
                    <div id="formResult" class="card">
                        <h4>Form Data</h4>
                        <pre id="formData">Submit the form to see serialized data here.</pre>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- AJAX Demo -->
        <div class="demo-section">
            <h3>AJAX Utilities (Fetch API Wrapper)</h3>
            <button class="btn btn-primary" id="ajaxBtn">Test API Call</button>
            <div id="ajaxResult" class="card" style="display: none;">
                <h4>API Response</h4>
                <pre id="ajaxData"></pre>
            </div>
        </div>
    </div>

    <!-- Include our utilities -->
    <script src="js/core-utilities.js"></script>
    <script src="js/custom-modal.js"></script>
    
    <script>
        // Wait for DOM to be ready
        Events.ready(() => {
            // DOM Manipulation Demo
            Events.on('#showHideBtn', 'click', () => {
                DOM.toggle('#demoElement');
            });
            
            Events.on('#fadeBtn', 'click', () => {
                const el = DOM.$('#demoElement');
                if (el.style.display === 'none') {
                    DOM.fadeIn(el);
                } else {
                    DOM.fadeOut(el);
                }
            });
            
            Events.on('#slideBtn', 'click', () => {
                Animate.slideToggle('#demoElement');
            });
            
            // Modal Demo
            Events.on('#alertBtn', 'click', () => {
                CustomModal.alert('This is a custom alert modal!', 'Alert Demo');
            });
            
            Events.on('#confirmBtn', 'click', async () => {
                const result = await CustomModal.confirm('Are you sure you want to continue?', 'Confirm Demo');
                DOM.show('#modalResult');
                DOM.text('#modalResult', `Confirm result: ${result}`);
            });
            
            Events.on('#promptBtn', 'click', async () => {
                const result = await CustomModal.prompt('Enter your name:', 'John Doe', 'Prompt Demo');
                DOM.show('#modalResult');
                DOM.text('#modalResult', `Prompt result: ${result || 'Cancelled'}`);
            });
            
            Events.on('#customModalBtn', 'click', () => {
                const modal = new CustomModal({ size: 'lg' });
                modal.setTitle('Custom Modal Demo');
                modal.setBody(`
                    <h4>This is a custom modal</h4>
                    <p>You can put any content here including forms, images, or other components.</p>
                    <div class="row">
                        <div class="col-6">
                            <img src="https://via.placeholder.com/300x200" alt="Demo" style="width: 100%; border-radius: 4px;">
                        </div>
                        <div class="col-6">
                            <h5>Features:</h5>
                            <ul>
                                <li>Responsive design</li>
                                <li>Smooth animations</li>
                                <li>Keyboard support</li>
                                <li>Backdrop click to close</li>
                                <li>Multiple sizes</li>
                            </ul>
                        </div>
                    </div>
                `);
                modal.setFooter(`
                    <button class="btn btn-outline modal-close">Close</button>
                    <button class="btn btn-primary">Save Changes</button>
                `);
                
                Events.on(modal.footerElement.querySelector('.modal-close'), 'click', () => {
                    modal.hide();
                });
                
                modal.show();
            });
            
            // Form Demo
            Events.on('#demoForm', 'submit', (e) => {
                e.preventDefault();
                
                const validation = Forms.validate('#demoForm', {
                    name: { required: true, message: 'Name is required' },
                    email: { 
                        required: true, 
                        pattern: /^[^\s@]+@[^\s@]+\.[^\s@]+$/,
                        message: 'Valid email is required' 
                    }
                });
                
                if (validation.isValid) {
                    const data = Forms.serialize('#demoForm');
                    DOM.text('#formData', JSON.stringify(data, null, 2));
                    DOM.removeClass('#formResult', 'alert-danger');
                    DOM.addClass('#formResult', 'alert-success');
                } else {
                    DOM.text('#formData', 'Validation errors:\n' + JSON.stringify(validation.errors, null, 2));
                    DOM.removeClass('#formResult', 'alert-success');
                    DOM.addClass('#formResult', 'alert-danger');
                }
            });
            
            Events.on('#clearForm', 'click', () => {
                Forms.clear('#demoForm');
                DOM.text('#formData', 'Submit the form to see serialized data here.');
            });
            
            // AJAX Demo
            Events.on('#ajaxBtn', 'click', async () => {
                try {
                    DOM.text('#ajaxBtn', 'Loading...');
                    DOM.attr('#ajaxBtn', 'disabled', 'true');
                    
                    // Using JSONPlaceholder API for demo
                    const data = await Ajax.get('https://jsonplaceholder.typicode.com/posts/1');
                    
                    DOM.text('#ajaxData', JSON.stringify(data, null, 2));
                    DOM.show('#ajaxResult');
                } catch (error) {
                    DOM.text('#ajaxData', 'Error: ' + error.message);
                    DOM.show('#ajaxResult');
                } finally {
                    DOM.text('#ajaxBtn', 'Test API Call');
                    DOM.removeAttr('#ajaxBtn', 'disabled');
                }
            });
            
            // Demonstrate event delegation
            Events.delegate(document, '.btn', 'mouseenter', function() {
                this.style.transform = 'translateY(-1px)';
                this.style.transition = 'transform 0.2s ease';
            });
            
            Events.delegate(document, '.btn', 'mouseleave', function() {
                this.style.transform = 'translateY(0)';
            });
        });
    </script>
</body>
</html>
